CREATE OR REPLACE PROCEDURE MYINSERT
(ENM VARCHAR2, SL NUMBER)
IS
ENO NUMBER(4);
X NUMBER(4):=0;
BEGIN
	SELECT COUNT(*) INTO X FROM EMP WHERE ENAME=ENM;
	IF X = 0 THEN
		IF SL > 3000 THEN
			SELECT MAX(EMPNO) INTO ENO FROM EMP;
			ENO:=ENO+1;
			INSERT INTO EMP(EMPNO, ENAME, SAL) VALUES(ENO, ENM, SL);
			DBMS_OUTPUT.PUT_LINE('RECORD INSERTED!');
		ELSE
			RAISE_APPLICATION_ERROR(-20674, 'SAL <= 3000 IS NOT ALLOWED!');
		END IF; 
	ELSE
		RAISE_APPLICATION_ERROR(-20674, 'DUPLICATE ENAME IS NOT ALLOWED!');
	END IF;
END;
/