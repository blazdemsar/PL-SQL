DECLARE
	CURSOR C1 IS SELECT * FROM EMP FOR UPDATE;
	X EMP%ROWTYPE;
BEGIN
	OPEN C1;
	LOOP
		FETCH C1 INTO X;
		EXIT WHEN C1%NOTFOUND;
		IF X.SAL < 2000 THEN
			UPDATE EMP SET SAL=SAL+1000 WHERE CURRENT OF C1;
		ELSE
			UPDATE EMP SET SAL=SAL+2000 WHERE CURRENT OF C1;
		END IF;
	END LOOP;
	COMMIT;
	CLOSE C1;
END;
/